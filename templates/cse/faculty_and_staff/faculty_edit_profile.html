{% extends 'base.html' %}
{% load static %}

{% block title %}Edit Faculty Profile - NeU CSE{% endblock %}

{% block content %}
<div class="min-h-screen bg-gray-50 py-8">
    <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
        <!-- Header -->
        <div class="mb-8">
            <div class="flex items-center justify-between">
                <div>
                    <h1 class="text-3xl font-bold text-gray-900">Edit Faculty Profile</h1>
                    <p class="text-gray-600 mt-2">Update your profile information</p>
                </div>
                <a href="{% url 'faculty_dashboard' %}" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg font-medium transition-colors duration-200">
                    ‚Üê Back to Dashboard
                </a>
            </div>
        </div>

        <!-- Messages -->
        {% if messages %}
            {% for message in messages %}
                <div class="mb-6 rounded-lg px-4 py-3 {% if message.tags == 'error' %}bg-red-100 text-red-700 border border-red-200{% elif message.tags == 'success' %}bg-green-100 text-green-700 border border-green-200{% else %}bg-blue-100 text-blue-700 border border-blue-200{% endif %}">
                    <div class="flex justify-between items-start">
                        <span>{{ message }}</span>
                        <button type="button" class="ml-2 text-gray-400 hover:text-gray-600" onclick="this.parentElement.parentElement.remove()">
                            <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>
                </div>
            {% endfor %}
        {% endif %}

        <form method="post" enctype="multipart/form-data" class="space-y-8">
            {% csrf_token %}
            
            <!-- Basic Information Section -->
            <div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
                <div class="bg-gradient-to-r from-custom-green to-emerald-600 px-6 py-4">
                    <h2 class="text-lg font-semibold text-white flex items-center">
                        <svg class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                        </svg>
                        Basic Information
                    </h2>
                </div>
                <div class="p-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">{{ form.name.label }}</label>
                            {{ form.name }}
                            {% if form.name.errors %}
                                <p class="text-red-500 text-sm mt-1">{{ form.name.errors.0 }}</p>
                            {% endif %}
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">{{ form.designation.label }}</label>
                            {{ form.designation }}
                            {% if form.designation.errors %}
                                <p class="text-red-500 text-sm mt-1">{{ form.designation.errors.0 }}</p>
                            {% endif %}
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">{{ form.status.label }}</label>
                            {{ form.status }}
                            {% if form.status.errors %}
                                <p class="text-red-500 text-sm mt-1">{{ form.status.errors.0 }}</p>
                            {% endif %}
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">{{ form.member_type.label }}</label>
                            {{ form.member_type }}
                            {% if form.member_type.errors %}
                                <p class="text-red-500 text-sm mt-1">{{ form.member_type.errors.0 }}</p>
                            {% endif %}
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">{{ form.email.label }}</label>
                            {{ form.email }}
                            {% if form.email.errors %}
                                <p class="text-red-500 text-sm mt-1">{{ form.email.errors.0 }}</p>
                            {% endif %}
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">{{ form.phone.label }}</label>
                            {{ form.phone }}
                            {% if form.phone.errors %}
                                <p class="text-red-500 text-sm mt-1">{{ form.phone.errors.0 }}</p>
                            {% endif %}
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">{{ form.room_no.label }}</label>
                            {{ form.room_no }}
                            {% if form.room_no.errors %}
                                <p class="text-red-500 text-sm mt-1">{{ form.room_no.errors.0 }}</p>
                            {% endif %}
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">{{ form.joined_date.label }}</label>
                            {{ form.joined_date }}
                            {% if form.joined_date.errors %}
                                <p class="text-red-500 text-sm mt-1">{{ form.joined_date.errors.0 }}</p>
                            {% endif %}
                        </div>
                    </div>
                    
                    <!-- Profile Photo -->
                    <div class="mt-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2">{{ form.image.label }}</label>
                        {% if faculty_member.image %}
                            <div class="flex items-center space-x-4 mb-4">
                                <img src="{{ faculty_member.image.url }}" alt="Current photo" class="h-20 w-20 rounded-full object-cover border-4 border-custom-green">
                                <div>
                                    <p class="text-sm text-gray-600">Current profile photo</p>
                                    <p class="text-xs text-gray-500">Upload a new image to replace this one</p>
                                </div>
                            </div>
                        {% endif %}
                        {{ form.image }}
                        {% if form.image.errors %}
                            <p class="text-red-500 text-sm mt-1">{{ form.image.errors.0 }}</p>
                        {% endif %}
                    </div>
                    
                    <!-- Bio -->
                    <div class="mt-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2">{{ form.bio.label }}</label>
                        {{ form.bio }}
                        {% if form.bio.errors %}
                            <p class="text-red-500 text-sm mt-1">{{ form.bio.errors.0 }}</p>
                        {% endif %}
                    </div>
                    
                    <!-- Research Interest -->
                    <div class="mt-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2">{{ form.research_interest.label }}</label>
                        {{ form.research_interest }}
                        {% if form.research_interest.errors %}
                            <p class="text-red-500 text-sm mt-1">{{ form.research_interest.errors.0 }}</p>
                        {% endif %}
                    </div>
                </div>
            </div>

            <!-- Academic URLs Section -->
            <div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
                <div class="bg-gradient-to-r from-blue-500 to-indigo-600 px-6 py-4">
                    <h2 class="text-lg font-semibold text-white flex items-center">
                        <svg class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
                        </svg>
                        Academic & Social Links
                    </h2>
                </div>
                <div class="p-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">{{ form.research_gate_url.label }}</label>
                            {{ form.research_gate_url }}
                            {% if form.research_gate_url.errors %}
                                <p class="text-red-500 text-sm mt-1">{{ form.research_gate_url.errors.0 }}</p>
                            {% endif %}
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">{{ form.google_scholar_url.label }}</label>
                            {{ form.google_scholar_url }}
                            {% if form.google_scholar_url.errors %}
                                <p class="text-red-500 text-sm mt-1">{{ form.google_scholar_url.errors.0 }}</p>
                            {% endif %}
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">{{ form.orcid_url.label }}</label>
                            {{ form.orcid_url }}
                            {% if form.orcid_url.errors %}
                                <p class="text-red-500 text-sm mt-1">{{ form.orcid_url.errors.0 }}</p>
                            {% endif %}
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">{{ form.linkedin_url.label }}</label>
                            {{ form.linkedin_url }}
                            {% if form.linkedin_url.errors %}
                                <p class="text-red-500 text-sm mt-1">{{ form.linkedin_url.errors.0 }}</p>
                            {% endif %}
                        </div>
                        
                        <div class="md:col-span-2">
                            <label class="block text-sm font-medium text-gray-700 mb-2">{{ form.personal_website.label }}</label>
                            {{ form.personal_website }}
                            {% if form.personal_website.errors %}
                                <p class="text-red-500 text-sm mt-1">{{ form.personal_website.errors.0 }}</p>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>

            <!-- Academic Information Section -->
            <div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
                <div class="bg-gradient-to-r from-purple-500 to-pink-600 px-6 py-4">
                    <h2 class="text-lg font-semibold text-white flex items-center">
                        <svg class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
                        </svg>
                        Academic Information
                    </h2>
                </div>
                <div class="p-6 space-y-6">
                    <!-- Education Records Info -->
                    <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                        <div class="flex items-start">
                            <svg class="h-5 w-5 text-blue-600 mr-3 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                            <div class="flex-grow">
                                <h4 class="text-sm font-semibold text-blue-900 mb-1">Education Records</h4>
                                <p class="text-sm text-blue-700 mb-3">
                                    You currently have <strong>{{ faculty_member.educations.count }}</strong> education record{{ faculty_member.educations.count|pluralize }}.
                                    Education records are managed separately for better organization.
                                </p>
                                {% if faculty_member.educations.exists %}
                                    <div class="mb-3 space-y-2">
                                        {% for education in faculty_member.educations.all|slice:":3" %}
                                            <div class="bg-white p-2 rounded border text-xs">
                                                <strong>{{ education.degree_name }}</strong> in {{ education.major_subject }} from {{ education.board_institute }} ({{ education.passing_year }})
                                            </div>
                                        {% endfor %}
                                        {% if faculty_member.educations.count > 3 %}
                                            <div class="text-xs text-blue-600">... and {{ faculty_member.educations.count|add:"-3" }} more</div>
                                        {% endif %}
                                    </div>
                                {% endif %}
                                <div class="flex space-x-2">
                                    <a href="{% url 'add_education' %}" class="px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 transition-colors">
                                        Add Education
                                    </a>
                                    {% if faculty_member.educations.exists %}
                                        <a href="{% url 'faculty_dashboard' %}#education-section" class="px-3 py-1 bg-blue-100 text-blue-700 text-xs rounded hover:bg-blue-200 transition-colors">
                                            Manage Records
                                        </a>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Professional Experience Records Info -->
                    <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                        <div class="flex items-start">
                            <svg class="h-5 w-5 text-yellow-600 mr-3 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                            <div class="flex-grow">
                                <h4 class="text-sm font-semibold text-yellow-900 mb-1">Professional Experience Records</h4>
                                <p class="text-sm text-yellow-700 mb-3">
                                    You currently have <strong>{{ faculty_member.professional_experiences.count }}</strong> experience record{{ faculty_member.professional_experiences.count|pluralize }}.
                                    Professional experience records are managed separately for better organization.
                                </p>
                                {% if faculty_member.professional_experiences.exists %}
                                    <div class="mb-3 space-y-2">
                                        {% for experience in faculty_member.professional_experiences.all|slice:":3" %}
                                            <div class="bg-white p-2 rounded border text-xs">
                                                <strong>{{ experience.position_title }}</strong> at {{ experience.organization }}
                                                ({{ experience.start_date|date:"M Y" }} - {% if experience.end_date %}{{ experience.end_date|date:"M Y" }}{% else %}Present{% endif %})
                                            </div>
                                        {% endfor %}
                                        {% if faculty_member.professional_experiences.count > 3 %}
                                            <div class="text-xs text-yellow-600">... and {{ faculty_member.professional_experiences.count|add:"-3" }} more</div>
                                        {% endif %}
                                    </div>
                                {% endif %}
                                <div class="flex space-x-2">
                                    <a href="{% url 'add_professional_experience' %}" class="px-3 py-1 bg-yellow-600 text-white text-xs rounded hover:bg-yellow-700 transition-colors">
                                        Add Experience
                                    </a>
                                    {% if faculty_member.professional_experiences.exists %}
                                        <a href="{% url 'faculty_dashboard' %}#experience-section" class="px-3 py-1 bg-yellow-100 text-yellow-700 text-xs rounded hover:bg-yellow-200 transition-colors">
                                            Manage Records
                                        </a>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">{{ form.research_activities.label }}</label>
                        {{ form.research_activities }}
                        {% if form.research_activities.errors %}
                            <p class="text-red-500 text-sm mt-1">{{ form.research_activities.errors.0 }}</p>
                        {% endif %}
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">{{ form.publications.label }}</label>
                        {{ form.publications }}
                        {% if form.publications.errors %}
                            <p class="text-red-500 text-sm mt-1">{{ form.publications.errors.0 }}</p>
                        {% endif %}
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">{{ form.courses_taught.label }}</label>
                        {{ form.courses_taught }}
                        {% if form.courses_taught.errors %}
                            <p class="text-red-500 text-sm mt-1">{{ form.courses_taught.errors.0 }}</p>
                        {% endif %}
                    </div>
                </div>
            </div>

            <!-- Achievements & Memberships Section -->
            <div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
                <div class="bg-gradient-to-r from-yellow-500 to-orange-600 px-6 py-4">
                    <h2 class="text-lg font-semibold text-white flex items-center">
                        <svg class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" />
                        </svg>
                        Achievements & Memberships
                    </h2>
                </div>
                <div class="p-6 space-y-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">{{ form.membership.label }}</label>
                        {{ form.membership }}
                        {% if form.membership.errors %}
                            <p class="text-red-500 text-sm mt-1">{{ form.membership.errors.0 }}</p>
                        {% endif %}
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">{{ form.awards_honors.label }}</label>
                        {{ form.awards_honors }}
                        {% if form.awards_honors.errors %}
                            <p class="text-red-500 text-sm mt-1">{{ form.awards_honors.errors.0 }}</p>
                        {% endif %}
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">{{ form.others.label }}</label>
                        {{ form.others }}
                        {% if form.others.errors %}
                            <p class="text-red-500 text-sm mt-1">{{ form.others.errors.0 }}</p>
                        {% endif %}
                    </div>
                </div>
            </div>

            <!-- Files & Documents Section -->
            <div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
                <div class="bg-gradient-to-r from-green-500 to-teal-600 px-6 py-4">
                    <h2 class="text-lg font-semibold text-white flex items-center">
                        <svg class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                        </svg>
                        Documents & Files
                    </h2>
                </div>
                <div class="p-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">{{ form.cv_file.label }}</label>
                            {% if faculty_member.cv_file %}
                                <div class="mb-4 p-3 bg-green-50 rounded-lg border border-green-200">
                                    <div class="flex items-center">
                                        <svg class="h-5 w-5 text-green-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                                        </svg>
                                        <a href="{{ faculty_member.cv_file.url }}" target="_blank" class="text-green-700 hover:text-green-800 font-medium">
                                            Current CV/Resume
                                        </a>
                                    </div>
                                    <p class="text-xs text-green-600 mt-1">Upload a new file to replace this one</p>
                                </div>
                            {% endif %}
                            {{ form.cv_file }}
                            {% if form.cv_file.errors %}
                                <p class="text-red-500 text-sm mt-1">{{ form.cv_file.errors.0 }}</p>
                            {% endif %}
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">{{ form.end_date.label }}</label>
                            {{ form.end_date }}
                            {% if form.end_date.errors %}
                                <p class="text-red-500 text-sm mt-1">{{ form.end_date.errors.0 }}</p>
                            {% endif %}
                            <p class="text-xs text-gray-500 mt-1">Only fill this if you are no longer active</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Submit Button -->
            <div class="flex justify-end space-x-4 pt-6">
                <a href="{% url 'faculty_dashboard' %}" class="px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition-colors duration-200">
                    Cancel
                </a>
                <button type="submit" class="px-6 py-3 bg-custom-green hover:bg-emerald-600 text-white rounded-lg font-medium transition-colors duration-200 flex items-center">
                    <svg class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                    </svg>
                    Update Profile
                </button>
            </div>
        </form>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Auto-dismiss messages after 5 seconds
    const messages = document.querySelectorAll('.bg-red-100, .bg-green-100, .bg-blue-100');
    messages.forEach(message => {
        setTimeout(() => {
            message.style.opacity = '0';
            message.style.transition = 'opacity 0.3s ease';
            setTimeout(() => {
                message.remove();
            }, 300);
        }, 5000);
    });

    // Form validation enhancement
    const form = document.querySelector('form');
    const requiredFields = form.querySelectorAll('input[required], select[required], textarea[required]');
    
    form.addEventListener('submit', function(e) {
        let hasErrors = false;
        requiredFields.forEach(field => {
            if (!field.value.trim()) {
                hasErrors = true;
                field.classList.add('border-red-500');
                field.classList.remove('border-gray-300');
            } else {
                field.classList.remove('border-red-500');
                field.classList.add('border-gray-300');
            }
        });
        
        if (hasErrors) {
            e.preventDefault();
            alert('Please fill in all required fields.');
            // Scroll to first error
            const firstError = form.querySelector('.border-red-500');
            if (firstError) {
                firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }
    });

    // URL validation for social links
    const urlFields = ['research_gate_url', 'google_scholar_url', 'orcid_url', 'linkedin_url', 'personal_website'];
    urlFields.forEach(fieldName => {
        const field = document.querySelector(`input[name="${fieldName}"]`);
        if (field) {
            field.addEventListener('blur', function() {
                if (this.value && !this.value.startsWith('http')) {
                    this.value = 'https://' + this.value;
                }
            });
        }
    });

    // File upload preview
    const imageInput = document.querySelector('input[name="image"]');
    if (imageInput) {
        imageInput.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    // Create preview or update existing preview
                    let preview = document.querySelector('#image-preview');
                    if (!preview) {
                        preview = document.createElement('div');
                        preview.id = 'image-preview';
                        preview.className = 'mt-4';
                        imageInput.parentNode.insertBefore(preview, imageInput.nextSibling);
                    }
                    preview.innerHTML = `
                        <div class="flex items-center space-x-4">
                            <img src="${e.target.result}" alt="Preview" class="h-20 w-20 rounded-full object-cover border-4 border-custom-green">
                            <div>
                                <p class="text-sm text-gray-600">New profile photo preview</p>
                                <p class="text-xs text-gray-500">This will replace your current photo</p>
                            </div>
                        </div>
                    `;
                };
                reader.readAsDataURL(file);
            }
        });
    }
});
</script>

<style>
/* Custom styles for form enhancements */
.cke_chrome {
    border: 1px solid #d1d5db !important;
    border-radius: 0.5rem !important;
}

.cke_chrome:focus-within {
    border-color: #02644A !important;
    box-shadow: 0 0 0 2px rgba(2, 100, 74, 0.2) !important;
}

/* File input styling */
input[type="file"]::-webkit-file-upload-button {
    background: #f9fafb;
    border: 1px solid #d1d5db;
    border-radius: 0.375rem;
    color: #374151;
    cursor: pointer;
    font-size: 0.875rem;
    padding: 0.5rem 1rem;
    margin-right: 0.75rem;
    transition: all 0.2s;
}

input[type="file"]::-webkit-file-upload-button:hover {
    background: #f3f4f6;
    border-color: #02644A;
}

/* Enhanced focus states */
input:focus, select:focus, textarea:focus {
    transform: translateY(-1px);
    box-shadow: 0 0 0 2px rgba(2, 100, 74, 0.2), 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}
</style>
{% endblock %}