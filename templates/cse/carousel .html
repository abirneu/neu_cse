{% extends "base.html" %}
{% load static %}
{% block content %}
    <style>
        .carousel-item {
            display: none;
        }
        .carousel-item.active {
            display: block;
        }
    </style>

    <div class="relative w-full h-screen overflow-hidden">
        <div id="image-carousel" class="relative w-full h-full">
            </div>

        <button id="prev-btn" class="absolute top-1/2 left-4 transform -translate-y-1/2 bg-gray-800 text-white p-3 rounded-full opacity-50 hover:opacity-100 transition-opacity z-10">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
            </svg>
        </button>
        <button id="next-btn" class="absolute top-1/2 right-4 transform -translate-y-1/2 bg-gray-800 text-white p-3 rounded-full opacity-50 hover:opacity-100 transition-opacity z-10">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
            </svg>
        </button>

        <div id="dots-container" class="absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2 z-10">
            </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Function to load carousel content
            function loadCarousel() {
                const carouselData = [
                    {
                        src: "{% static 'images/caro//IMG_2951.jpg' %}",
                        alt: "Campus building on a sunny day"
                    },
                    {
                        src: "{% static 'images/caro//IMG_2076.JPG' %}",
                        alt: "Students walking on campus"
                    },
                    {
                        src: "{% static 'images/caro/IMG_2073.JPG' %}",
                        alt: "A lecture hall during a class"
                    }
                    // Add more image objects here
                ];

                const carousel = document.getElementById('image-carousel');
                const prevBtn = document.getElementById('prev-btn');
                const nextBtn = document.getElementById('next-btn');
                const dotsContainer = document.getElementById('dots-container');

                let currentIndex = 0;

                // Create and append carousel items and dots
                carouselData.forEach((item, index) => {
                    // Create carousel image
                    const carouselItem = document.createElement('div');
                    carouselItem.classList.add('carousel-item', 'absolute', 'inset-0', 'transition-opacity', 'duration-500', 'ease-in-out', 'bg-cover', 'bg-center');
                    carouselItem.style.backgroundImage = `url(${item.src})`;
                    carousel.appendChild(carouselItem);

                    // Create dot
                    const dot = document.createElement('span');
                    dot.classList.add('w-3', 'h-3', 'bg-gray-400', 'rounded-full', 'cursor-pointer', 'transition-all', 'duration-300');
                    dot.addEventListener('click', () => showSlide(index));
                    dotsContainer.appendChild(dot);
                });

                const items = document.querySelectorAll('.carousel-item');
                const dots = document.querySelectorAll('#dots-container span');

                // Function to show a specific slide
                function showSlide(index) {
                    if (index >= items.length) {
                        currentIndex = 0;
                    } else if (index < 0) {
                        currentIndex = items.length - 1;
                    } else {
                        currentIndex = index;
                    }

                    items.forEach((item, i) => {
                        item.classList.remove('active', 'opacity-100');
                        item.classList.add('opacity-0');
                        if (i === currentIndex) {
                            item.classList.add('active', 'opacity-100');
                        }
                    });

                    dots.forEach((dot, i) => {
                        dot.classList.remove('bg-white');
                        dot.classList.add('bg-gray-400');
                        if (i === currentIndex) {
                            dot.classList.remove('bg-gray-400');
                            dot.classList.add('bg-white');
                        }
                    });
                }

                // Event listeners for navigation buttons
                prevBtn.addEventListener('click', () => showSlide(currentIndex - 1));
                nextBtn.addEventListener('click', () => showSlide(currentIndex + 1));

                // Auto-advance the carousel every 5 seconds
                setInterval(() => {
                    showSlide(currentIndex + 1);
                }, 5000);

                // Initialize the carousel by showing the first slide
                showSlide(currentIndex);
            }

            // Call the function to load the carousel on page load
            loadCarousel();
        });
    </script>
{% endblock %}