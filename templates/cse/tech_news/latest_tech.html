{% load static %}
{% load custom_filters %}

<section class="py-12 " data-aos="fade-up" data-aos-duration="800">
    <div class="container mx-auto px-4">
        <div class="flex justify-between items-center mb-8 bg-white p-6 rounded-lg shadow" data-aos="slide-down" data-aos-delay="200">
            <h2 class="text-3xl font-bold text-green-500">Latest Tech News</h2>
            <a href="{% url 'all_tech_news' %}" class=" text-green-500 hover:underline
             font-semibold py-2 px-4 rounded transition duration-300 btn btn-primary">View All Tech News</a>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            {% for news in tech_news|slice:":3" %}
            <div class="bg-white rounded-lg shadow-lg overflow-hidden h-full flex flex-col" data-aos="zoom-in" data-aos-delay="{{ forloop.counter|mul:200 }}">
                {% if news.image %}
                <img src="{{ news.image.url }}" class="w-full h-48 object-cover" alt="{{ news.title }}" data-aos="fade-in" data-aos-delay="{{ forloop.counter|mul:200|add:100 }}">
                {% else %}
                <img src="{% static 'images/default-tech-news.jpg' %}" class="w-full h-48 object-cover" alt="{{ news.title }}" data-aos="fade-in" data-aos-delay="{{ forloop.counter|mul:200|add:100 }}">
                {% endif %}
                <div class="p-6 flex flex-col flex-grow">
                    <h5 class="text-xl font-semibold mb-2 line-clamp-1" data-aos="fade-up" data-aos-delay="{{ forloop.counter|mul:200|add:200 }}">{{ news.title }}</h5>
                    <p class="text-sm text-gray-500 mb-3" data-aos="fade-up" data-aos-delay="{{ forloop.counter|mul:200|add:300 }}">{{ news.published_date|date:"F d, Y" }}</p>
                    <p class="text-gray-600 mb-4 flex-grow line-clamp-3" data-aos="fade-up" data-aos-delay="{{ forloop.counter|mul:200|add:400 }}">{{ news.content|striptags|truncatewords:20 }}</p>
                    <a href="{% url 'detail_tech_news' news.id %}" class="mt-auto inline-flex items-center text-blue-600 hover:text-blue-800 font-semibold transition duration-300" data-aos="fade-up" data-aos-delay="{{ forloop.counter|mul:200|add:500 }}">
                        Read More
                        <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                        </svg>
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>