<!-- Home Page Gallery Section (6 images) -->
<div class="container mx-auto px-4 py-8">
    <div class="text-center mb-8">
        <h2 class="text-3xl font-bold text-gray-800 mb-4">Image Gallery</h2>
        
    </div>
    
    <div class="grid grid-cols-2 md:grid-cols-3 gap-4 md:gap-6">
        {% for image in images %}
        <div class="rounded-lg overflow-hidden shadow-md hover:shadow-lg transition duration-300">
            <img 
                src="{{ image.image.url }}" 
                alt="{{ image.title }}" 
                class="w-full h-48 object-cover cursor-pointer"
                onclick="openFullScreenModal('{{ image.image.url }}', '{{ image.title }}')"
            >
            <div class="p-4">
                <h3 class="font-semibold text-lg mb-1">{{ image.title }}</h3>
                <p class="text-gray-600 text-sm">{{ image.upload_time|date:"F d, Y" }}</p>
            </div>
        </div>
        {% endfor %}
    </div>
    <div class="text-center mt-8">
        <a href="{% url 'all_images' %}" class="inline-block px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition duration-300">
            View All Images
        </a>
    </div>
</div>

<!-- Full Screen Modal for Home Page -->
<div id="fullScreenModal" class="fixed inset-0 bg-black bg-opacity-75 z-50 hidden">
    <div class="flex items-center justify-center h-full p-4">
        <div class="relative bg-white rounded-lg shadow-xl max-w-4xl w-full">
            <!-- Close button -->
            <button onclick="closeFullScreenModal()" class="absolute -top-4 -right-4 bg-red-600 text-white w-8 h-8 rounded-full flex items-center justify-center hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors duration-200">
                âœ•
            </button>
            <!-- Modal content -->
            <div class="p-4">
                <h3 id="modalTitle" class="text-gray-800 text-xl font-semibold mb-4"></h3>
                <div class="relative">
                    <img id="modalImage" src="" alt="" class="w-full max-h-[70vh] object-contain rounded-lg">
                </div>
            </div>
        </div>
    </div>
</div>



<script>
// Home page modal functions
function openFullScreenModal(imageUrl, title) {
    const modal = document.getElementById('fullScreenModal');
    const modalImg = document.getElementById('modalImage');
    const modalTitle = document.getElementById('modalTitle');
    
    // Set content
    modalImg.src = imageUrl;
    modalTitle.textContent = title;
    
    // Show modal with fade effect
    modal.classList.remove('hidden');
    document.body.style.overflow = 'hidden'; // Prevent scrolling
    
    // Close modal when clicking outside the image
    modal.addEventListener('click', function(e) {
        if (e.target === modal) {
            closeFullScreenModal();
        }
    });
}

function closeFullScreenModal() {
    document.getElementById('fullScreenModal').classList.add('hidden');
    document.body.style.overflow = 'auto'; // Re-enable scrolling
}



function closeDownloadModal() {
    document.getElementById('downloadModal').classList.add('hidden');
    document.body.style.overflow = 'auto'; // Re-enable scrolling
}

// Close modals when clicking outside content
document.getElementById('fullScreenModal').addEventListener('click', function(e) {
    if (e.target === this) closeFullScreenModal();
});

document.getElementById('downloadModal').addEventListener('click', function(e) {
    if (e.target === this) closeDownloadModal();
});

// Close modals with Escape key
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
        closeFullScreenModal();
        closeDownloadModal();
    }
});
</script>